<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Парсинг выражений Loop</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2013-03-12 14:37:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse131.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse129.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse129.html#tailclmse129.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse130.html">Tail</a>&#x003E;&#x003C;<a 
href="clmch26.html#clmse130.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">26.6   </span> <a 
href="clm.html#QQ2-161-273" id="x161-23300026.6">Парсинг выражений
Loop</a></h3>
<!--l. 161--><p class="noindent" >The syntactic parts of a loop construct are called <em>clauses</em>; the scope of each clause
is determined by the top-level parsing of that clause&#x2019;s keyword. The following
example shows a loop construct with six clauses:
<!--l. 166--><p class="indent" >   Синтаксические части конструкции loop называются <em>выражениями</em>.
Область действия каждого выражения определяется парсером данного типа
выражения. Следующий пример показывает loop с шестью выражениями:
<div class="lisp">
<tt>
<!--l. 171--><p class="indent" >   <div class="tabbing">
(loop for i from 1 to (compute-top-value)         ;First clause
   <br>           while (not (unacceptable i))                ;Second clause<br>
      collect (square i)                          ;Third clause<br>
      do (format t &#x0022;Working on ~D now&#x0022; i)         ;Fourth clause<br>
      when (evenp i)                              ;Fifth clause<br>
        do (format t &#x0022;~D is a non-odd number&#x0022; i)<br>
      ﬁnally (format t &#x0022;About to exit!&#x0022;))        ;Sixth clause<br>
<!--l. 178--><p class="noindent" ></div>
</tt>
</div>
<div class="lisp">
<tt>
<!--l. 180--><p class="indent" >   <div class="tabbing">
(loop for i from 1 to (compute-top-value)         ;Первое выражение
   <br>                   while (not (unacceptable i))                ;Второе<br>
      collect (square i)                          ;Третье<br>
                                                                          

                                                                          
      do (format t &#x0022;Обрабтка ~D &#x0022; i)         ;Четвёртое<br>
      when (evenp i)                              ;Пятое<br>
        do (format t &#x0022;~D чётное&#x0022; i)<br>
      ﬁnally (format t &#x0022;Почти у выхода!&#x0022;))        ;Шестое<br>
<!--l. 187--><p class="noindent" ></div>
</tt>
</div>
<!--l. 189--><p class="indent" >   Each loop keyword introduces either a compound loop clause or a simple
loop clause that can consist of a loop keyword followed by a single Lisp
form. The number of forms in a clause is determined by the loop keyword
that begins the clause and by the auxiliary keywords in the clause. The
keywords <b><a 
href="symbols.html#x200-396347r347">do</a></b>, <b><a 
href="symbols.html#x200-396496r496">initially</a></b>, and <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> are the only loop keywords that can
take any number of Lisp forms and group them as if in a single <b><a 
href="symbols.html#x200-396762r762">progn</a></b>
form.
<!--l. 197--><p class="indent" >   Каждое ключевое слово представляет или составное выражение, или
простое выражение, которое может состоять из этого ключевого слова и
одиночное Lisp&#x2019;овой формы. Количество форм в выражении определяется
первым ключевым символом или вспомогательными ключевыми символами в
выражении. Только такие ключевые символы, как <b><a 
href="symbols.html#x200-396347r347">do</a></b>, <b><a 
href="symbols.html#x200-396496r496">initially</a></b> и <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b>,
могут принимать любое количество Lisp&#x2019;овых форм и группировать в
одиночную форму <b><a 
href="symbols.html#x200-396762r762">progn</a></b>.
<!--l. 205--><p class="indent" >   Loop clauses can contain auxiliary keywords, which are sometimes called
<em>prepositions</em>. For example, the ﬁrst clause in the preceding code includes the
prepositions <b>from</b> and <b>to</b>, which mark the value from which stepping begins and
the value at which stepping ends.
<!--l. 211--><p class="indent" >   Выражения loop могут содержать вспомогательные ключевые символы,
которые иногда называются <em>предлоги</em>. Например, первое выражение в
предыдущем коде включает предлоги <b>from</b> и <b>to</b>, которые указывают на
начальное и конечное значения для переменной.
<!--l. 216--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">26.6.1   </span> <a 
href="frontmatter.html#QQ2-161-274" id="x161-23400026.6.1">Order of Execution</a></h4>
<!--l. 218--><p class="noindent" >
                                                                          

                                                                          
   <h4 class="subsectionHead"><span class="titlemark">26.6.2   </span> <a 
href="frontmatter.html#QQ2-161-275" id="x161-23500026.6.2">Порядок вычисления</a></h4>
<!--l. 220--><p class="noindent" >With the exceptions listed below, clauses are executed in the loop body in the
order in which they appear in the source. Execution is repeated until a clause
terminates the loop or until a Common Lisp <b><a 
href="symbols.html#x200-396817r817">return</a></b>, <b><a 
href="symbols.html#x200-396476r476">go</a></b>, or <b><a 
href="symbols.html#x200-396963r963">throw</a></b> form is
encountered. The following actions are exceptions to the linear order of
execution:
<!--l. 226--><p class="indent" >   Выражения в теле loop вычисляются в том порядке, в котором задал
пользователь, с некоторыми исключениями перечисленными ниже.
Вычисление повторяется пока не сработает выражение, завершающее цикл,
или не будет вызвана одна из Common Lisp&#x2019;овых форм <b><a 
href="symbols.html#x200-396817r817">return</a></b>, <b><a 
href="symbols.html#x200-396476r476">go</a></b>,
<b><a 
href="symbols.html#x200-396963r963">throw</a></b>. Для последовательного выполнения существуют следующие
исключения:
      <ul class="itemize1">
      <li class="itemize">All variables are initialized ﬁrst, regardless of where the establishing
      clauses appear in the source. The order of initialization follows the order
      of these clauses.
      </li>
      <li class="itemize">Перво-наперво   выполняется   инициализация   всех   переменных,
      вне  зависимости  от  их  позиции  в  исходном  коде.  Порядок
      инициализации сохраняется.
      </li>
      <li class="itemize">The  code  for  any  <b><a 
href="symbols.html#x200-396496r496">initially</a></b> clauses  is  collected  into  one  <b><a 
href="symbols.html#x200-396762r762">progn</a></b> in
      the  order  in  which  the  clauses  appear  in  the  source.  The  collected
      code is executed once in the loop prologue after any implicit variable
      initializations.
      </li>
      <li class="itemize">Код из всех <b><a 
href="symbols.html#x200-396496r496">initially</a></b> выражений в исходном порядке собирается
      в один большой <b><a 
href="symbols.html#x200-396762r762">progn</a></b>. Собранный код вычисляется единожды в
      прологе после инициализации всех переменных.
      </li>
      <li class="itemize">The code for any <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> clauses is collected into one <b><a 
href="symbols.html#x200-396762r762">progn</a></b> in the
      order in which the clauses appear in the source. The collected code is
      executed once in the loop epilogue before any implicit values from the
                                                                          

                                                                          
      accumulation clauses are returned. Explicit returns anywhere in the
      source, however, will exit the loop without executing the epilogue code.
      </li>
      <li class="itemize">Код для всех <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> выражение в исходном порядке собирается
      в  один  большой  <b><a 
href="symbols.html#x200-396762r762">progn</a></b>.  Собранный  код  вычисляется  единожды
      в эпилоге, перед тем как будут неявно возвращены значения из
      цикла. Однако явный выход где-либо в исходнике, будет завершать
      цикл без выполнения эпилога.
      </li>
      <li class="itemize">A <b><a 
href="symbols.html#x200-397014r1014">with</a></b> clause introduces a variable binding and an optional initial
      value. The initial values are calculated in the order in which the <b><a 
href="symbols.html#x200-397014r1014">with</a></b>
      clauses occur.
      </li>
      <li class="itemize"><b><a 
href="symbols.html#x200-397014r1014">with</a></b> выражение обозначает связывание переменной и опционально
      первоначальное значение. Первоначальные значение вычисляются
      в исходном порядке.
      </li>
      <li class="itemize">Iteration control clauses implicitly perform the following actions:
           <ul class="itemize2">
           <li class="itemize">initializing variables
           </li>
           <li class="itemize">stepping variables, generally between each execution of the loop
           body
           </li>
           <li class="itemize">performing termination tests, generally just before the execution
           of the loop body</li></ul>
      </li>
      <li class="itemize">Выражения для итераций неявно выполняют следующие действия:
           <ul class="itemize2">
           <li class="itemize">присваивание переменных
           </li>
           <li class="itemize">наращивание переменных на каждой итерации
                                                                          

                                                                          
           </li>
           <li class="itemize">проверка    условия    завершения    цикла,    обычно    перед
           выполнение итерации</li></ul>
      </li></ul>
<!--l. 295--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">26.6.3   </span> <a 
href="frontmatter.html#QQ2-161-276" id="x161-23600026.6.3">Kinds of Loop Clauses</a></h4>
<!--l. 298--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">26.6.4   </span> <a 
href="frontmatter.html#QQ2-161-277" id="x161-23700026.6.4">Разновидности Loop выражений</a></h4>
<!--l. 300--><p class="noindent" >Loop clauses fall into one of the following categories:
<!--l. 302--><p class="indent" >   Выражения делятся на следующие категории:
      <ul class="itemize1">
      <li class="itemize">variable initialization and stepping
      </li>
      <li class="itemize">инициализация и пошаговое изменение
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396436r436">for</a></b> and <b><a 
href="symbols.html#x200-396123r123">as</a></b> constructs provide iteration control clauses that
           establish a variable to be initialized. You can combine <b><a 
href="symbols.html#x200-396436r436">for</a></b> and <b><a 
href="symbols.html#x200-396123r123">as</a></b>
           clauses with the loop keyword <b><a 
href="symbols.html#x200-396098r98">and</a></b> to get parallel initialization
           and stepping.
           </li>
           <li class="itemize">Конструкции <b><a 
href="symbols.html#x200-396436r436">for</a></b> и <b><a 
href="symbols.html#x200-396123r123">as</a></b> служат для установки переменных. Для
           параллельной инициализации и изменения, выражения <b><a 
href="symbols.html#x200-396436r436">for</a></b> и
           <b><a 
href="symbols.html#x200-396123r123">as</a></b> могут комбинироваться с помощью символа <b><a 
href="symbols.html#x200-396098r98">and</a></b>.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-397014r1014">with</a></b> construct  is  similar  to  a  single  <b><a 
href="symbols.html#x200-396543r543">let</a></b> clause.  You  can
           combine <b><a 
href="symbols.html#x200-397014r1014">with</a></b> clauses using <b><a 
href="symbols.html#x200-396098r98">and</a></b> to get parallel initialization.
                                                                          

                                                                          
           </li>
           <li class="itemize">Конструкция     <b><a 
href="symbols.html#x200-397014r1014">with</a></b>     похожа     на     выражение     <b><a 
href="symbols.html#x200-396543r543">let</a></b>.
           Для параллельной инициализации вы можете комбинировать
           <b><a 
href="symbols.html#x200-397014r1014">with</a></b> с помощью <b><a 
href="symbols.html#x200-396098r98">and</a></b>.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396810r810">repeat</a></b>  construct  causes  iteration  to  terminate  after  a
           speciﬁed number of times. It uses an internal variable to keep track
           of the number of iterations.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396810r810">repeat</a></b> указывает на количество итераций. Она
           использует внутреннюю переменную для подсчёта шагов.</li></ul>
      <!--l. 338--><p class="noindent" >You can specify data types for loop variables (see section <a 
href="clmse147.html#x178-25800026.23.2">26.23.2<!--tex4ht:ref: LOOP-TYPES-SECTION --></a>). It is an
      error to bind the same variable twice in any variable-binding clause of a
      single loop expression. Such variables include local variables, iteration
      control variables, and variables found by destructuring.
      <!--l. 344--><p class="noindent" >Вы можете указать типы данных для переменных циклы (смотрите
      раздел <a 
href="clmse147.html#x178-25800026.23.2">26.23.2<!--tex4ht:ref: LOOP-TYPES-SECTION --></a>). Связывать переменные два раза в одном цикле
      нельзя. Такие переменные включают локальные переменные,
      переменные для управления циклом и переменные созданные при
      деструктуризации.
      </li>
      <li class="itemize">value accumulation
      </li>
      <li class="itemize">накопление значения
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396257r257">collect</a></b> construct takes one form in its clause and adds the
           value of that form to the end of a list of values. By default, the
           list of values is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396257r257">collect</a></b>  принимает  одну  форму  и  добавляет
           значение этой формы в конец списка значений. По-умолчанию
           в конце цикла этот список возвращается.
                                                                          

                                                                          
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396099r99">append</a></b> construct takes one form in its clause and appends
           the value of that form to the end of a list of values. By default,
           the list of values is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396099r99">append</a></b>  принимает  одну  форму  и  добавляет
           значение этой формы в конец списка значений. По-умолчанию
           в конце цикла этот список возвращается.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396666r666">nconc</a></b> construct is similar to <b><a 
href="symbols.html#x200-396099r99">append</a></b>, but its list values
           are concatenated as if by the Common Lisp function <b><a 
href="symbols.html#x200-396666r666">nconc</a></b>. By
           default, the list of values is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция               <b><a 
href="symbols.html#x200-396666r666">nconc</a></b>             похожа               на
           <b><a 
href="symbols.html#x200-396099r99">append</a></b>, но список соединяется с помощью функции <b><a 
href="symbols.html#x200-396666r666">nconc</a></b>.
           По-умолчанию в конце цикла этот список возвращается.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396941r941">sum</a></b> construct takes one form in its clause that must evaluate
           to  a  number  and  adds  that  number  into  a  running  total.  By
           default, the cumulative sum is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396941r941">sum</a></b> принимает одну форму, которая должна
           вернуть  число,  и  добавляет  это  число  в  общую  сумму.
           По-умолчанию накопленная сумма возвращается из цикла.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396299r299">count</a></b> construct takes one form in its clause and counts the
           number of times that the form evaluates to a non-<b><a 
href="symbols.html#x200-396670r670">nil</a></b> value. By
           default, the count is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396299r299">count</a></b> принимает одну форму и подсчитывает
           сколько раз эта форма вернула не-<b><a 
href="symbols.html#x200-396670r670">nil</a></b> значение. По-умолчанию
           это количество возвращается из цикла.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396639r639">minimize</a></b>  construct  takes  one  form  in  its  clause  and
           determines the minimum value obtained by evaluating that form.
           By default, the minimum value is returned when the loop ﬁnishes.
                                                                          

                                                                          
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396639r639">minimize</a></b> принимает одну форму и сохраняет
           минимальное       значение,       которое       вернула       эта
           форма. По-умолчанию, минимальное значение возвращается
           из цикла.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396625r625">maximize</a></b>  construct  takes  one  form  in  its  clause  and
           determines the maximum value obtained by evaluating that form.
           By default, the maximum value is returned when the loop ﬁnishes.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396625r625">maximize</a></b> принимает одну форму и сохраняет
           максимальное       значение,       которое       вернула       эта
           форма. По-умолчанию, максимальное значение возвращается
           из цикла.</li></ul>
      </li>
      <li class="itemize">termination conditions
      </li>
      <li class="itemize">условия для завершения
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396578r578">loop-ﬁnish</a></b> Lisp macro terminates iteration and returns any
           accumulated result. If speciﬁed, any <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> clauses are evaluated.
           </li>
           <li class="itemize">Lisp&#x2019;овые макрос <b><a 
href="symbols.html#x200-396578r578">loop-ﬁnish</a></b> прекращает цикл и возвращает
           накопленный результат. Вычисляется выражение <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b>, если
           было указано.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396436r436">for</a></b> and  <b><a 
href="symbols.html#x200-396123r123">as</a></b> constructs  provide  a  termination  test  that  is
           determined by the iteration control clause.
           </li>
           <li class="itemize">Конструкции  <b><a 
href="symbols.html#x200-396436r436">for</a></b>  и  <b><a 
href="symbols.html#x200-396123r123">as</a></b>  завершают  цикл  после  выполнения
           указанных условий.
                                                                          

                                                                          
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396810r810">repeat</a></b> construct causes termination after a speciﬁed number
           of iterations.
           </li>
           <li class="itemize">Конструкция   <b><a 
href="symbols.html#x200-396810r810">repeat</a></b>  завершает   цикл   после   выполнения
           указанного количества итераций.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-397012r1012">while</a></b> construct takes one form, a condition, and terminates
           the   iteration   if   the   condition   evaluates   to   <b><a 
href="symbols.html#x200-396670r670">nil</a></b>.   A   <b><a 
href="symbols.html#x200-397012r1012">while</a></b>
           clause  is  equivalent  to  the  expression  <b>(if (not <em>condition</em>)
           (loop-ﬁnish))</b>.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-397012r1012">while</a></b>  принимает  одну  форму  —  условие,  и
           завершает  цикл  когда  условие  возвращает  <b><a 
href="symbols.html#x200-396670r670">nil</a></b>.  Выражение
           <b><a 
href="symbols.html#x200-397012r1012">while</a></b> эквивалентно <b>(if (not <em>condition</em>) (loop-ﬁnish))</b>.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396986r986">until</a></b>  construct  is  the  inverse  of  <b><a 
href="symbols.html#x200-397012r1012">while</a></b>;  it  terminates
           the  iteration  if  the  condition  evaluates  to  any  non-<b><a 
href="symbols.html#x200-396670r670">nil</a></b>  value.
           An <b><a 
href="symbols.html#x200-396986r986">until</a></b> clause is equivalent to the expression <b>(if <em>condition</em>
           (loop-ﬁnish))</b>.
           </li>
           <li class="itemize">Конструкция   <b><a 
href="symbols.html#x200-396986r986">until</a></b>   антоним   конструкции   <b><a 
href="symbols.html#x200-397012r1012">while</a></b>.   Она
           завершает  цикл,  когда  условие  возвращает  не-<b><a 
href="symbols.html#x200-396670r670">nil</a></b> значение.
           Выражение <b><a 
href="symbols.html#x200-396986r986">until</a></b> эквивалентно <b>(if <em>condition</em> (loop-ﬁnish))</b>.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396097r97">always</a></b> construct takes one form and terminates the loop
           if  the  form  ever  evaluates  to  <b><a 
href="symbols.html#x200-396670r670">nil</a></b>;  in  this  case,  it  returns  <b><a 
href="symbols.html#x200-396670r670">nil</a></b>.
           Otherwise, it provides a default return value of <b><a 
href="symbols.html#x200-396953r953">t</a></b>.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396097r97">always</a></b>  принимает  одну  форму  и  завершает
           цикл, если форма возвращает <b><a 
href="symbols.html#x200-396670r670">nil</a></b>, в этом случае возвращается
           <b><a 
href="symbols.html#x200-396670r670">nil</a></b>. Иначе возвращается результат по-умолчанию <b><a 
href="symbols.html#x200-396953r953">t</a></b>.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396668r668">never</a></b> construct takes one form and terminates the loop if
           the form ever evaluates to non-<b><a 
href="symbols.html#x200-396670r670">nil</a></b>; in this case, it returns <b><a 
href="symbols.html#x200-396670r670">nil</a></b>.
           Otherwise, it provides a default return value of <b><a 
href="symbols.html#x200-396953r953">t</a></b>.
                                                                          

                                                                          
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396668r668">never</a></b> принимает одну форму и завершает цикл,
           если форма возвращает <b><a 
href="symbols.html#x200-396670r670">nil</a></b>, в этом случае возвращается <b><a 
href="symbols.html#x200-396670r670">nil</a></b>.
           Иначе возвращается результат по-умолчанию <b><a 
href="symbols.html#x200-396953r953">t</a></b>.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396961r961">thereis</a></b> construct takes one form and terminates the loop if
           the form ever evaluates to non-<b><a 
href="symbols.html#x200-396670r670">nil</a></b>; in this case, it returns that
           value.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396961r961">thereis</a></b>  принимает  одну  форму  и  завершает
           цикле,   если   форма   возвращает   не-<b><a 
href="symbols.html#x200-396670r670">nil</a></b>,   в   этом   случае
           возвращается значение формы.</li></ul>
      </li>
      <li class="itemize">unconditional execution
      </li>
      <li class="itemize">безусловное выполнение
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396347r347">do</a></b> construct simply evaluates all forms in its clause.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396347r347">do</a></b> просто выполняет все переданные формы.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396817r817">return</a></b> construct takes one form and returns its value. It is
           equivalent to the clause <b>do (return <em>value</em>)</b>.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396817r817">return</a></b> принимает одну форму и возвращает её
           значение. Эквивалентное выражение <b>do (return <em>value</em>)</b>.</li></ul>
      </li>
      <li class="itemize">conditional execution
      </li>
      <li class="itemize">условное выполнение
                                                                          

                                                                          
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396488r488">if</a></b> construct takes one form as a predicate and a clause that
           is executed when the predicate is true. The clause can be a value
           accumulation, unconditional, or another conditional clause; it can
           also be any combination of such clauses connected by the loop
           keyword <b><a 
href="symbols.html#x200-396098r98">and</a></b>.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396488r488">if</a></b>  принимает  форму  в  качестве  предиката
           и  выражение,  которое  выполняется  в  случае  истинности
           предиката.  Выражение  может  быть  накоплением  значения,
           безусловным или другим условным выражением.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-397011r1011">when</a></b> construct is a synonym for <b><a 
href="symbols.html#x200-396488r488">if</a></b>.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-397011r1011">when</a></b> это синоним для конструкции <b><a 
href="symbols.html#x200-396488r488">if</a></b>.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396984r984">unless</a></b>  construct  is  similar  to  <b><a 
href="symbols.html#x200-397011r1011">when</a></b>  except  that  it
           complements the predicate; it executes the following clause if the
           predicate is false.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396984r984">unless</a></b> похожа  на  <b><a 
href="symbols.html#x200-397011r1011">when</a></b> кроме  того,  что  она
           выполняет форму при условии что предикат ложен.
           </li>
           <li class="itemize">The <b>else</b> construct provides an optional component of <b><a 
href="symbols.html#x200-396488r488">if</a></b>, <b><a 
href="symbols.html#x200-397011r1011">when</a></b>,
           and <b><a 
href="symbols.html#x200-396984r984">unless</a></b> clauses that is executed when the predicate is false.
           The component is one of the clauses described under <b><a 
href="symbols.html#x200-396488r488">if</a></b>.
           </li>
           <li class="itemize">Конструкция   <b>else</b>  содержит   компонент,   который   будет
           выполнен при невыполнении веток <b><a 
href="symbols.html#x200-396488r488">if</a></b>, <b><a 
href="symbols.html#x200-397011r1011">when</a></b> и <b><a 
href="symbols.html#x200-396984r984">unless</a></b>.
           </li>
           <li class="itemize">The <b>end</b> construct provides an optional component to mark the
           end of a conditional clause.
           </li>
           <li class="itemize">Конструкция <b>end</b> указывает на конец условного выражения.</li></ul>
                                                                          

                                                                          
      </li>
      <li class="itemize">miscellaneous operations
      </li>
      <li class="itemize">дополнительные операции
           <ul class="itemize2">
           <li class="itemize">The <b><a 
href="symbols.html#x200-396663r663">named</a></b> construct assigns a name to a loop construct.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396663r663">named</a></b> присваивает имя блоку цикла.
           </li>
           <li class="itemize">The <b><a 
href="symbols.html#x200-396496r496">initially</a></b> construct causes its forms to be evaluated in the loop
           prologue, which precedes all loop code except for initial settings
           speciﬁed by the constructs <b><a 
href="symbols.html#x200-397014r1014">with</a></b>, <b><a 
href="symbols.html#x200-396436r436">for</a></b>, or <b><a 
href="symbols.html#x200-396123r123">as</a></b>.
           </li>
           <li class="itemize">Конструкция  <b><a 
href="symbols.html#x200-396496r496">initially</a></b>  вычисляет  формы  в  прологе  цикла,
           который следует перед телом цикла, но после первоначальных
           связываний в конструкциях <b><a 
href="symbols.html#x200-397014r1014">with</a></b>, <b><a 
href="symbols.html#x200-396436r436">for</a></b> и <b><a 
href="symbols.html#x200-396123r123">as</a></b>.
           </li>
           <li class="itemize">The  <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> construct  causes  its  forms  to  be  evaluated  in  the
           loop epilogue after normal iteration terminates. An unconditional
           clause can also follow the loop keyword <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b>.
           </li>
           <li class="itemize">Конструкция <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> выполняет формы в эпилоге цикла после
           завершения итераций. Кроме того после слова <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> могут
           следовать безусловные выражения.</li></ul>
      </li></ul>
<!--l. 576--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">26.6.5   </span> <a 
href="frontmatter.html#QQ2-161-278" id="x161-23800026.6.5">Loop Syntax</a></h4>
                                                                          

                                                                          
<!--l. 578--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">26.6.6   </span> <a 
href="frontmatter.html#QQ2-161-279" id="x161-23900026.6.6">Синтаксис Loop</a></h4>
<!--l. 580--><p class="noindent" >The following syntax description provides an overview of the syntax for
loop clauses. Detailed syntax descriptions of individual clauses appear in
sections <a 
href="clmse136.html#x167-24500026.12">26.12<!--tex4ht:ref: LOOP-ITERATION-SECTION --></a> through <a 
href="clmse147.html#x178-25600026.23">26.23<!--tex4ht:ref: LOOP-MISC-SECTION --></a>. A loop consists of the following types of
clauses:
<!--l. 586--><p class="indent" >   <div class="tabbing">
<em>initial-ﬁnal</em> ::= <em>initially</em> | <em>ﬁnally</em>
   <br>                               <em>variables</em> ::= <em>with</em> | <em>initial-ﬁnal</em> | <em>for-as</em> | <em>repeat</em><br>
<em>main</em> ::= <em>unconditional</em> | <em>accumulation</em> | <em>conditional</em> | <em>termination</em> | <em>initial-ﬁnal</em><br>
<em>loop</em> ::= <b>(loop  [<i><b>named <em>name</em></b></i>]  {<i><em></em></i>}* variables  {<i><em></em></i>}* main)</b><br>
<!--l. 593--><p class="noindent" ></div>
<!--l. 595--><p class="indent" >   Вот небольшой обзор синтаксиса для выражений цикла. Детальные
описания конкретных подвыражений находятся в разделах начиная с <a 
href="clmse136.html#x167-24500026.12">26.12<!--tex4ht:ref: LOOP-ITERATION-SECTION --></a>
и заканчивая <a 
href="clmse147.html#x178-25600026.23">26.23<!--tex4ht:ref: LOOP-MISC-SECTION --></a>. Цикл содержит следующие типы выражений:
<div class="tabbing">
<em>initial-ﬁnal</em> ::= <em>initially</em> | <em>ﬁnally</em>
   <br>                               <em>variables</em> ::= <em>with</em> | <em>initial-ﬁnal</em> | <em>for-as</em> | <em>repeat</em><br>
<em>main</em> ::= <em>unconditional</em> | <em>accumulation</em> | <em>conditional</em> | <em>termination</em> | <em>initial-ﬁnal</em><br>
<em>loop</em> ::= <b>(loop  [<i><b>named <em>name</em></b></i>]  {<i><em></em></i>}* variables  {<i><em></em></i>}* main)</b><br>
<!--l. 607--><p class="noindent" ></div>
<!--l. 609--><p class="indent" >   Note that a loop must have at least one clause; however, for backward
compatibility, the following format is also supported: <div class="lisp"><tt><div class="tabbing">
(loop  {<i><em>tag</em> | <em>expr</em></i>}* )
   <br>
<!--l. 612--><p class="noindent" ></div>
</tt>
</div>
                                                                          

                                                                          
<!--l. 612--><p class="indent" >   where <em>expr</em> is any Common Lisp expression that can be evaluated, and <em>tag</em> is
any symbol not identiﬁable as a loop keyword. Such a format is roughly equivalent
to the following one:
<div class="lisp">
<tt>
<!--l. 616--><p class="indent" >   <div class="tabbing">
(loop do  {<i><em>tag</em> | <em>expr</em></i>}* )
   <br>
<!--l. 617--><p class="noindent" ></div>
</tt>
</div>
<!--l. 619--><p class="indent" >   Заметьте, что цикл должен содержать как минимум одно выражение,
однако для обратной совместимости также поддерживается и следующий
формат: <div class="lisp"><tt><div class="tabbing">
(loop  {<i><em>tag</em> | <em>expr</em></i>}* )
   <br>
<!--l. 622--><p class="noindent" ></div>
</tt>
</div>
<!--l. 623--><p class="indent" >   где <em>expr</em> является любым Common Lisp&#x2019;овым выражением, которое может
быть вычислено, и <em>tag</em> это любой символ не из множества символов loop.
Такой формат примерно эквивалентен следующему:
<div class="lisp">
<tt>
<!--l. 627--><p class="indent" >   <div class="tabbing">
(loop do  {<i><em>tag</em> | <em>expr</em></i>}* )
   <br>
                                                                          

                                                                          
<!--l. 628--><p class="noindent" ></div>
</tt>
</div>
<!--l. 630--><p class="indent" >   A loop prologue consists of any automatic variable initializations prescribed by
the <em>variable</em> clauses, along with any <em>initially</em> clauses in the order they appear in
the source.
<!--l. 634--><p class="indent" >   Пролог состоит из инициализации переменных описанных в соответствующих
выражения, и <b><a 
href="symbols.html#x200-396496r496">initially</a></b> выражений в том порядке, в котором они были
записаны.
<!--l. 638--><p class="indent" >   A loop epilogue consists of <em>ﬁnally</em> clauses, if any, along with any implicit
return value from an <em>accumulation</em> clause or an <em>end-test</em> clause.
<!--l. 642--><p class="indent" >   Эпилог состоит из выражений <b><a 
href="symbols.html#x200-396412r412">ﬁnally</a></b> (если они были), и неявного
возврата значения из выражений собирающих результат или из выражений
проверки выхода из цикла.
                                                                          

                                                                          
<!--l. 646--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse131.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse129.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse129.html#tailclmse129.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse130.html" >Front</a>&#x003E;&#x003C;<a 
href="clmch26.html#clmse130.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse130.html"></a>   
</body></html> 
