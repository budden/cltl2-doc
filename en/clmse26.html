<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Determining the Type of an Object</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2013-01-10 13:48:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse27.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse25.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse25.html#tailclmse25.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse26.html">Tail</a>&#x003E;&#x003C;<a 
href="dtspec.html#clmse26.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">4.9   </span> <a 
href="clm.html#QQ2-35-58" id="x35-510004.9">Determining the Type of an
Object</a></h3>
<!--l. 841--><p class="noindent" >The following function may be used to obtain a type speciﬁer describing the type
of a given object.
<div class="defun">
<div class="defunheader">
<a 
 id="dx35-51001"></a>
<em>
<!--l. 845--><p class="noindent" >[Function]</em> <b>type-of</b> <i>object</i>
</div>
<!--l. 847--><p class="indent" >   There are the following constraints on <b><a 
href="symbols.html#x188-380976r976">type-of</a></b>:
      <ul class="itemize1">
      <li class="itemize">Let <em>x</em> be an object such that <b>(typep <em>x</em> <em>type</em>)</b> is true and <em>type</em> is one
      of the following:
      <div class="flushleft" 
>
<!--l. 854--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%" class="tabular"><tr><td align="left" >array            </td><td align="left" >ﬂoat          </td><td align="left" >package          </td><td align="left" >sequence   </td>
</tr><tr><td align="left" >bit-vector      </td><td align="left" >function     </td><td align="left" >pathname        </td><td align="left" >short-ﬂoat </td>
</tr><tr><td align="left" >character       </td><td align="left" >hash-table  </td><td align="left" >random-state  </td><td align="left" >single-ﬂoat</td>
</tr><tr><td align="left" >complex        </td><td align="left" >integer       </td><td align="left" >ratio              </td><td align="left" >stream     </td>
</tr><tr><td align="left" >condition       </td><td align="left" >long-ﬂoat  </td><td align="left" >rational          </td><td align="left" >string       </td>
</tr><tr><td align="left" >cons             </td><td align="left" >null           </td><td align="left" >readtable        </td><td align="left" >symbol     </td>
</tr><tr><td align="left" >double-ﬂoat  </td><td align="left" >number      </td><td align="left" >restart            </td><td align="left" >vector      </td></tr></table>
</div></div>
      <!--l. 867--><p class="noindent" >Then <b>(subtypep (type-of <em>x</em>) <em>type</em>))</b> must return the values <b><a 
href="symbols.html#x188-380953r953">t</a></b> and <b><a 
href="symbols.html#x188-380953r953">t</a></b>; that
      is, <b><a 
href="symbols.html#x188-380976r976">type-of</a></b> applied to <em>x</em> must return either <em>type</em> itself or a subtype of <em>type</em>
      that <b><a 
href="symbols.html#x188-380940r940">subtypep</a></b> can recognize in that implementation.
                                                                          

                                                                          
      </li>
      <li class="itemize">For any object <em>x</em>, <b>(subtypep (type-of <em>x</em>) (class-of <em>x</em>))</b> must produce the
      values <b><a 
href="symbols.html#x188-380953r953">t</a></b> and <b><a 
href="symbols.html#x188-380953r953">t</a></b>.
      </li>
      <li class="itemize">For every object <em>x</em>, <b>(typep <em>x</em> (type-of <em>x</em>))</b> must be true. (This
      implies that <b><a 
href="symbols.html#x188-380976r976">type-of</a></b> can never return <b><a 
href="symbols.html#x188-380670r670">nil</a></b>, for no object is of type
      <b><a 
href="symbols.html#x188-380670r670">nil</a></b>.)
      </li>
      <li class="itemize"><b><a 
href="symbols.html#x188-380976r976">type-of</a></b> never returns <b><a 
href="symbols.html#x188-380953r953">t</a></b> and never uses a <b>satisﬁes</b>, <b><a 
href="symbols.html#x188-380098r98">and</a></b>, <b><a 
href="symbols.html#x188-380703r703">or</a></b>, <b><a 
href="symbols.html#x188-380676r676">not</a></b>, or <b><a 
href="symbols.html#x188-381001r1001">values</a></b>
      type speciﬁer in its result.
      </li>
      <li class="itemize">For objects of CLOS metaclass <b>structure-class</b> or of <b>standard-class</b>,
      <b><a 
href="symbols.html#x188-380976r976">type-of</a></b> returns the proper name of the class returned by <b><a 
href="symbols.html#x188-380245r245">class-of</a></b> if it has a
      proper name, and otherwise returns the class itself. In particular, for
      any object created by a <b><a 
href="symbols.html#x188-380325r325">defstruct</a></b> constructor function, where the
      <b><a 
href="symbols.html#x188-380325r325">defstruct</a></b> had the name <em>name</em> and no <b>:type</b> option, <b><a 
href="symbols.html#x188-380976r976">type-of</a></b> will return
      <em>name</em>.</li></ul>
<!--l. 897--><p class="indent" >   As an example, <b>(type-of &#x0022;acetylcholinesterase&#x0022;)</b> may return <b><a 
href="symbols.html#x188-380910r910">string</a></b> or
<b>simple-string</b> or <b>(simple-string  20)</b>, but not <b>array</b> or <b>simple-vector</b>. As
another example, it is permitted for <b>(type-of 1729)</b> to return <b>integer</b> or <b>ﬁxnum</b>
(if it is indeed a ﬁxnum) or <b>(signed-byte 16)</b> or <b>(integer 1729 1729)</b> or
<b>(integer 1685 1750)</b> or even <b>(mod 1730)</b>, but not <b>rational</b> or <b>number</b>,
because <div class="lisp"><tt><div class="tabbing">
(typep (+ (expt 9 3) (expt 10 3)) &#x2019;integer)
   <br>
<!--l. 908--><p class="noindent" ></div>
</tt>
</div>
<!--l. 909--><p class="indent" >   is true, <b>integer</b> is in the list of types mentioned above, and <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(subtypep (type-of (+ (expt 1 3) (expt 12 3))) &#x2019;integer)
   <br>
<!--l. 912--><p class="noindent" ></div>
</tt>
</div>
<!--l. 913--><p class="indent" >   would be false if <b><a 
href="symbols.html#x188-380976r976">type-of</a></b> were to return <b>rational</b> or <b>number</b>.
<hr></div>
                                                                          

                                                                          
<!--l. 917--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse27.html" >Next</a>&#x003E;&#x003C;<a 
href="clmse25.html" >Prev</a>&#x003E;&#x003C;<a 
href="clmse25.html#tailclmse25.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse26.html" >Front</a>&#x003E;&#x003C;<a 
href="dtspec.html#clmse26.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse26.html"></a>  
</body></html> 
