<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Simple Sequence Functions</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2013-01-10 13:48:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; <br> &#x003C;<a 
href="clmse79.html" >Next</a>&#x003E;&#x003C;<a 
href="kseque.html" >Prev</a>&#x003E;&#x003C;<a 
href="kseque.html#tailkseque.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="#tailclmse78.html">Tail</a>&#x003E;&#x003C;<a 
href="kseque.html#clmse78.html" >Up</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">14.1   </span> <a 
href="clm.html#QQ2-97-167" id="x97-13700014.1">Simple Sequence
Functions</a></h3>
<!--l. 264--><p class="noindent" >Most of the following functions perform simple operations on a single sequence;
<b><a 
href="symbols.html#x188-380604r604">make-sequence</a></b> constructs a new sequence.
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137001"></a>
<em>
<!--l. 268--><p class="noindent" >[Function]</em> <b>elt</b> <i>sequence</i> <i>index</i>
</div>
<!--l. 270--><p class="indent" >   This returns the element of <em>sequence</em> speciﬁed by <em>index</em>, which must be a
non-negative integer less than the length of the <em>sequence</em> as returned by <b><a 
href="symbols.html#x188-380542r542">length</a></b>.
The ﬁrst element of a sequence has index <b>0</b>.
<!--l. 275--><p class="indent" >   (Note that <b><a 
href="symbols.html#x188-380367r367">elt</a></b> observes the ﬁll pointer in those vectors that have ﬁll pointers.
The array-speciﬁc function <b><a 
href="symbols.html#x188-380105r105">aref</a></b> may be used to access vector elements that are
beyond the vector&#x2019;s ﬁll pointer.)
<b>
                                                                          

                                                                          
<!--l. 279--><p class="indent" >   <a 
href="symbols.html#x188-380845r845">setf</a></b> may be used with <b><a 
href="symbols.html#x188-380367r367">elt</a></b> to destructively replace a sequence element with a
new value.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137002"></a>
<em>
<!--l. 284--><p class="noindent" >[Function]</em> <b>subseq</b> <i>sequence</i> <i>start</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;optional</a></tt> <i>end</i>
</div>
<!--l. 286--><p class="indent" >   This returns the subsequence of <em>sequence</em> speciﬁed by <em>start</em> and <em>end</em>. <b><a 
href="symbols.html#x188-380931r931">subseq</a></b>
<em>always</em> allocates a new sequence for a result; it never shares storage with an old
sequence. The result subsequence is always of the same type as the argument
<em>sequence</em>.
<b>
<!--l. 292--><p class="indent" >   <a 
href="symbols.html#x188-380845r845">setf</a></b> may be used with <b><a 
href="symbols.html#x188-380931r931">subseq</a></b> to destructively replace a subsequence with a
sequence of new values; see also <b><a 
href="symbols.html#x188-380811r811">replace</a></b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137003"></a>
<em>
<!--l. 297--><p class="noindent" >[Function]</em> <b>copy-seq</b> <i>sequence</i>
</div>
<!--l. 299--><p class="indent" >   A copy is made of the argument <em>sequence</em>; the result is <b><a 
href="symbols.html#x188-380382r382">equalp</a></b> to the
argument but not <b><a 
href="symbols.html#x188-380378r378">eq</a></b> to it. <div class="lisp"><tt><div class="tabbing">
(copy-seq <em>x</em>) <span class="math"> ≡</span> (subseq <em>x</em> 0)
   <br>
<!--l. 303--><p class="noindent" ></div>
</tt>
</div>
<!--l. 304--><p class="indent" >   but the name <b><a 
href="symbols.html#x188-380294r294">copy-seq</a></b> is more perspicuous when applicable.
<hr></div>
                                                                          

                                                                          
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137004"></a>
<em>
<!--l. 308--><p class="noindent" >[Function]</em> <b>length</b> <i>sequence</i>
</div>
<!--l. 310--><p class="indent" >   The number of elements in <em>sequence</em> is returned as a non-negative integer. If
the sequence is a vector with a ﬁll pointer, the “active length” as speciﬁed by the
ﬁll pointer is returned (see section <a 
href="clmse95.html#x117-15700017.5">17.5<!--tex4ht:ref: FILL-POINTER --></a>).
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137005"></a>
<em>
<!--l. 317--><p class="noindent" >[Function]</em> <b>reverse</b> <i>sequence</i>
</div>
<!--l. 319--><p class="indent" >   The result is a new sequence of the same kind as <em>sequence</em>, containing the
same elements but in reverse order. The argument is not modiﬁed.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137006"></a>
<em>
<!--l. 325--><p class="noindent" >[Function]</em> <b>nreverse</b> <i>sequence</i>
</div>
<!--l. 327--><p class="indent" >   The result is a sequence containing the same elements as <em>sequence</em> but in
reverse order. The argument may be destroyed and re-used to produce the result.
The result may or may not be <b><a 
href="symbols.html#x188-380378r378">eq</a></b> to the argument, so it is usually wise to say
something like <b>(setq x (nreverse x))</b>, because simply <b>(nreverse x)</b> is not
guaranteed to leave a reversed value in <b>x</b>. <div class="newer"> X3J13 voted in March 1989 <a 
 id="dx97-137007"></a>to clarify
the permissible side eﬀects of certain operations. When the <em>sequence</em> is a list,
<b><a 
href="symbols.html#x188-380680r680">nreverse</a></b> is permitted to perform a <b><a 
href="symbols.html#x188-380845r845">setf</a></b> on any part, <em>car</em> or <em>cdr</em>, of the top-level
list structure of that list. When the <em>sequence</em> is an array, <b><a 
href="symbols.html#x188-380680r680">nreverse</a></b> is permitted to
                                                                          

                                                                          
re-order the elements of the given array in order to produce the resulting
array.
</div>
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx97-137008"></a>
<em>
<!--l. 346--><p class="noindent" >[Function]</em> <b>make-sequence</b> <i>type</i> <i>size</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;key</a></tt> <i>:initial-element</i>
</div>
<!--l. 348--><p class="indent" >   This returns a sequence of type <em>type</em> and of length <em>size</em>, each of whose elements
has been initialized to the <b>:initial-element</b> argument. If speciﬁed, the
<b>:initial-element</b> argument must be an object that can be an element of a
sequence of type <em>type</em>. For example: <div class="lisp"><tt><div class="tabbing">
(make-sequence &#x2019;(vector double-ﬂoat)
   <br>                                                                                  100<br>
               :initial-element 1d0)<br>
<!--l. 358--><p class="noindent" ></div>
</tt>
</div>
<!--l. 359--><p class="indent" >   If an <b>:initial-element</b> argument is not speciﬁed, then the sequence will be
initialized in an implementation-dependent way.
<div class="new">
<!--l. 363--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx97-137009"></a>to clarify that the <em>type</em> argument must be a type
speciﬁer, and the <em>size</em> argument must be a non-negative integer less than the value
of <b><a 
href="symbols.html#x188-380111r111">array-dimension-limit</a></b>.
</div>
<div class="newer">
<!--l. 372--><p class="indent" >   X3J13 voted in June 1989 <a 
 id="dx97-137010"></a>to specify that <b><a 
href="symbols.html#x188-380604r604">make-sequence</a></b> should signal an
error if the sequence <em>type</em> speciﬁes the number of elements and the <em>size</em> argument
is diﬀerent.
</div>
<div class="newer">
                                                                          

                                                                          
<!--l. 378--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx97-137011"></a>to specify that if <em>type</em> is <b><a 
href="symbols.html#x188-380910r910">string</a></b>, the result is the
same as if <b><a 
href="symbols.html#x188-380605r605">make-string</a></b> had been called with the same <em>size</em> and <b>:initial-element</b>
arguments.
</div>
<hr></div>
                                                                          

                                                                          
<!--l. 385--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse79.html" >Next</a>&#x003E;&#x003C;<a 
href="kseque.html" >Prev</a>&#x003E;&#x003C;<a 
href="kseque.html#tailkseque.html" >PrevTail</a>&#x003E;&#x003C;<a 
href="clmse78.html" >Front</a>&#x003E;&#x003C;<a 
href="kseque.html#clmse78.html" >Up</a>&#x003E;<br>&lt;<a href="../index.html">Main Page</a>&gt; &lt;<a href="symbols.html">Symbols</a>&gt; </div><a 
 id="tailclmse78.html"></a>  
</body></html> 
