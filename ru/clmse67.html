<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Арифметические операции</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2013-03-12 14:38:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Главная</a>&gt; &lt;<a href="symbols.html">Символы</a>&gt; <br />&#x003C;<a 
href="clmse68.html" >Далее</a>&#x003E;&#x003C;<a 
href="clmse66.html" >Назад</a>&#x003E;&#x003C;<a 
href="clmse66.html#tailclmse66.html" >Назад-и-вниз</a>&#x003E;&#x003C;<a 
href="#tailclmse67.html">В-конец</a>&#x003E;&#x003C;<a 
href="number.html#clmse67.html" >Наверх</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">12.4
</span> <a 
href="clm.html#QQ2-84-131" id="x84-12100012.4">Арифметические операции</a></h3>
<!--l. 4090--><p class="noindent" >Каждая из функций в этом разделе в качестве аргументов принимает числа.
Применение какой-либо из них к нечисловому аргументу является ошибкой.
Каждая из них работает со всеми типами чисел, автоматически приводя
типы для различных аргументов, если не указано иное.
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121001"></a>
<em>
<!--l. 4096--><p class="noindent" >[Функция]</em> <b>+</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>numbers</i>
</div>
<!--l. 4098--><p class="indent" >   Данная функция возвращает сумму всех аргументов. Если аргументов не
было, результатом является <b>0</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121002"></a>
<em>
<!--l. 4103--><p class="noindent" >[Функция]</em> <b>-</b> <i>number</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-numbers</i>
</div>
<!--l. 4105--><p class="indent" >   Функция <b><a 
href="symbols.html#x200-396064r64">-</a></b> при использовании с одним аргументом возвращает
отрицательное значение для этого аргумента.
<!--l. 4108--><p class="indent" >   Функция <b><a 
href="symbols.html#x200-396064r64">-</a></b> при использовании с более чем одним аргументом вычитает из
первого аргумента все остальные и возвращает результат. Например, <b>(- 3 4
5)</b> <span class="math"> ⇒</span> <b>-6</b>.
<hr></div>
<div class="defun">
                                                                          

                                                                          
<div class="defunheader">
<a 
 id="dx84-121003"></a>
<em>
<!--l. 4114--><p class="noindent" >[Функция]</em> <b>*</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>numbers</i>
</div>
<!--l. 4116--><p class="indent" >   Функция возвращает произведение всех аргументов. Если вызывается без
аргументов, тогда возвращает <b>1</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121004"></a>
<em>
<!--l. 4121--><p class="noindent" >[Функция]</em> <b>/</b> <i>number</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-numbers</i>
</div>
<!--l. 4123--><p class="indent" >   Функция <b><a 
href="symbols.html#x200-396065r65">/</a></b> при использовании с более чем одним аргументом производит
деление первого аргумента на все остальные значения и возвращает
полученный результат.
<!--l. 4127--><p class="indent" >   Ноль может использоваться только для первого аргумента.
<!--l. 4129--><p class="indent" >   Для одного аргумента <b><a 
href="symbols.html#x200-396065r65">/</a></b> возвращает обратное значение. В таком случае
ноль в первом аргументе недопустим.
<!--l. 4132--><p class="indent" >   Если математическое отношение двух целых чисел не является целым
числом, <b><a 
href="symbols.html#x200-396065r65">/</a></b> вернёт дробный тип. Например: <div class="lisp"><tt><div class="tabbing">
(/ 12 4) <span class="math"> ⇒</span> 3
   <br>                          (/ 13 4) <span class="math"> ⇒</span> 13/4<br>                          (/ -8) <span class="math"> ⇒</span> -1/8<br>
(/ 3 4 5) <span class="math"> ⇒</span> 3/20<br>
<!--l. 4140--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4142--><p class="indent" >   Для целочисленного деления используйте одну из функций <b><a 
href="symbols.html#x200-396434r434">ﬂoor</a></b>, <b><a 
href="symbols.html#x200-396210r210">ceiling</a></b>,
<b><a 
href="symbols.html#x200-396968r968">truncate</a></b> или <b><a 
href="symbols.html#x200-396822r822">round</a></b>.
<!--l. 4146--><p class="indent" >   Если один из аргументов является числом с плавающей точкой, тогда
применяются правила обработки чисел с плавающей точкой.
<hr></div>
                                                                          

                                                                          
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121005"></a>
<em>
<!--l. 4151--><p class="noindent" >[Функция]</em> <b>1+</b> <i>number</i><br />
<a 
 id="dx84-121006"></a>
<em>
[Функция]</em> <b>1-</b> <i>number</i>
</div>
<b>
<!--l. 4154--><p class="indent" >   (1+ <em>x</em>)</b> является тем же самым, что <b>(+ <em>x</em> 1)</b>. <b>(1- <em>x</em>)</b> является тем же
самым, что <b>(- <em>x</em> 1)</b>. Следует отметить, что короткое имя может ввести в
заблуждение: <b>(1- <em>x</em>)</b> <em>не значит</em> то же, что и <span class="math">1 −<em>x</em></span>.
______________________<div class="implementation">
<!--l. 4160--><p class="noindent" ><b>Заметка для реализации:</b> Compiler writers are very strongly encouraged to ensure
that <b>(1+ x)</b> and <b>(+ x 1)</b> compile into identical code, and similarly for <b>(1- x)</b> and
<b>(- x 1)</b>, to avoid pressure on a Lisp programmer to write possibly less clear
code for the sake of eﬃciency. This can easily be done as a source-language
transformation.
</div>___________________________________________________________________________________________________________
<hr>
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 4171--><p class="indent" >     <div class="tabbing">
  <em>[Макрос]</em> <b>incf</b> <a 
 id="dx84-121007"></a>place [delta]
     <br>
<!--l. 4171--><p class="noindent" ></div>
</div>
<div class="defmacheader">
<!--l. 4171--><p class="indent" >     <div class="tabbing">
  <em>[Макрос]</em> <b>decf</b> <a 
 id="dx84-121008"></a>place [delta]
                                                                          

                                                                          
   <br>
<!--l. 4173--><p class="noindent" ></div>
</div>
<!--l. 4174--><p class="indent" >   Значение обобщённой переменной <em>place</em> увеличивается (<b><a 
href="symbols.html#x200-396494r494">incf</a></b>) или
уменьшается (<b><a 
href="symbols.html#x200-396304r304">decf</a></b>) на значение формы <em>delta</em> и затем присваивается
переменной <em>place</em>. Результатом формы является присвоенное значение.
Форма <em>place</em> может быть любой формой подходящей для <b><a 
href="symbols.html#x200-396844r844">setf</a></b>. Если форма
<em>delta</em> не указана, тогда число в <em>place</em> изменяется на <b>1</b>. Например:
<div class="lisp"><tt><div class="tabbing">
(setq n 0)
   <br>                                              (incf n) <span class="math"> ⇒</span> 1          and now n <span class="math"> ⇒</span> 1<br>
(decf n 3) <span class="math"> ⇒</span> -2      and now n <span class="math"> ⇒</span> -2<br>
(decf n -5) <span class="math"> ⇒</span> 3      and now n <span class="math"> ⇒</span> 3<br> (decf n) <span class="math"> ⇒</span> 2         and now n <span class="math"> ⇒</span> 2<br>
<!--l. 4189--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4190--><p class="indent" >   Результат <b>(incf <em>place</em> <em>delta</em>)</b> примерно эквивалентен <div class="lisp"><tt><div class="tabbing">
(setf <em>place</em> (+ <em>place</em> <em>delta</em>))
   <br>
<!--l. 4193--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4194--><p class="indent" >   за исключением того, что в последнем случае <em>place</em> вычисляется дважды,
тогда как <b><a 
href="symbols.html#x200-396494r494">incf</a></b> гарантирует, что вычисление <em>place</em> будет выполнено только
один раз. Более того, для некоторых форма <em>place</em> <b><a 
href="symbols.html#x200-396494r494">incf</a></b> может быть
эффективнее чем <b><a 
href="symbols.html#x200-396844r844">setf</a></b>. <div class="newer"> X3J13 voted in March 1988 <a 
 id="dx84-121009"></a>to clarify order of evaluation
(see section <a 
href="clmse36.html#x48-780007.2">7.2<!--tex4ht:ref: SETF-SECTION --></a>).
</div>
<hr></div>
<div class="defun">
<div class="defunheader">
                                                                          

                                                                          
<a 
 id="dx84-121010"></a>
<em>
<!--l. 4206--><p class="noindent" >[Функция]</em> <b>conjugate</b> <i>number</i>
</div>
<!--l. 4208--><p class="indent" >   Функция возвращает комплексное сопряжение с числа <em>number</em>.
Сопряжением некомплексного числа является само число. Для комплексного
числа <b>z</b>, <div class="lisp"><tt><div class="tabbing">
(conjugate z) <span class="math"> ≡</span> (complex (realpart z) (- (imagpart z)))
   <br>
<!--l. 4213--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4214--><p class="indent" >   Например, <div class="lisp"><tt><div class="tabbing">
(conjugate #C(3/5 4/5)) <span class="math"> ⇒</span> #C(3/5 -4/5)
   <br>                         (conjugate #C(0.0D0 -1.0D0)) <span class="math"> ⇒</span> #C(0.0D0 1.0D0)<br>
(conjugate 3.7) <span class="math"> ⇒</span> 3.7<br>
<!--l. 4219--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121011"></a>
<em>
<!--l. 4223--><p class="noindent" >[Функция]</em> <b>gcd</b> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>integers</i>
</div>
<!--l. 4225--><p class="indent" >   Функция возвращает наибольший общий делитель всех аргументов,
которые в свою очередь должны быть целыми числами. Результатом <b><a 
href="symbols.html#x200-396451r451">gcd</a></b>
                                                                          

                                                                          
всегда является неотрицательное целое число. Если передан только один
параметр, то возвращается его абсолютное значение (модуль). Если ни один
параметр не был передан, <b><a 
href="symbols.html#x200-396451r451">gcd</a></b> возвращает <b>0</b>. Для трёх и более аргументов,
<div class="lisp"><tt><div class="tabbing">
(gcd <em>a</em> <em>b</em> <em>c</em> ... <em>z</em>) <span class="math"> ≡</span> (gcd (gcd <em>a</em> <em>b</em>) <em>c</em> ... <em>z</em>)
   <br>
<!--l. 4234--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4236--><p class="indent" >   Несколько примеров использования <b><a 
href="symbols.html#x200-396451r451">gcd</a></b>: <div class="lisp"><tt><div class="tabbing">
(gcd 91 -49) <span class="math"> ⇒</span> 7
   <br>                                                                   (gcd 63 -42 35) <span class="math"> ⇒</span> 7<br>
(gcd 5) <span class="math"> ⇒</span> 5<br>                                                (gcd -4) <span class="math"> ⇒</span> 4<br>
(gcd) <span class="math"> ⇒</span> 0<br>
<!--l. 4243--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
<div class="defun">
<div class="defunheader">
<a 
 id="dx84-121012"></a>
<em>
<!--l. 4247--><p class="noindent" >[Функция]</em> <b>lcm</b> <i>integer</i> <tt><a 
href="clmse29.html#x39-620005.2.2">&#x0026;rest</a></tt> <i>more-integers</i>
</div>
<!--l. 4249--><p class="indent" >   Функция возвращает наименьшее общее кратное для аргументов, которые
в свою очередь должны быть целыми числами. Результатом <b><a 
href="symbols.html#x200-396522r522">lcm</a></b> всегда
является неотрицательное целое число. Для двух аргументов, не являющихся
нулями, <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(lcm <em>a</em> <em>b</em>) <span class="math"> ≡</span> (/ (abs (* <em>a</em> <em>b</em>)) (gcd <em>a</em> <em>b</em>))
   <br>
<!--l. 4255--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4256--><p class="indent" >   Если один или оба аргумента является нулём. <div class="lisp"><tt><div class="tabbing">
(lcm <em>a</em> 0) <span class="math"> ≡</span> (lcm 0 <em>a</em>) <span class="math"> ≡</span> 0
   <br>
<!--l. 4259--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4261--><p class="indent" >   Для одного аргумента, <b><a 
href="symbols.html#x200-396522r522">lcm</a></b> возвращает абсолютное значение этого
аргумента (модуль). Для трёх и более аргументов, <div class="lisp"><tt><div class="tabbing">
(lcm <em>a</em> <em>b</em> <em>c</em> ... <em>z</em>) <span class="math"> ≡</span> (lcm (lcm <em>a</em> <em>b</em>) <em>c</em> ... <em>z</em>)
   <br>
<!--l. 4266--><p class="noindent" ></div>
</tt>
</div>
<!--l. 4268--><p class="indent" >   Примеры использования: <div class="lisp"><tt><div class="tabbing">
(lcm 14 35) <span class="math"> ⇒</span> 70
   <br>                                                                           (lcm 0 5) <span class="math"> ⇒</span> 0<br>
(lcm 1 2 3 4 5 6) <span class="math"> ⇒</span> 60<br>
<!--l. 4273--><p class="noindent" ></div>
</tt>
</div>
<b>
<!--l. 4279--><p class="indent" >   <a 
href="symbols.html#x200-396522r522">lcm</a></b>, вызванная без аргументов, возвращает <b>1</b>. <div class="lisp"><tt><div class="tabbing">
                                                                          

                                                                          
(lcm) <span class="math"> ⇒</span> 1
   <br>
<!--l. 4282--><p class="noindent" ></div>
</tt>
</div>
<hr>
</div>
                                                                          

                                                                          
<!--l. 4285--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="clmse68.html" >Далее</a>&#x003E;&#x003C;<a 
href="clmse66.html" >Назад</a>&#x003E;&#x003C;<a 
href="clmse66.html#tailclmse66.html" >Назад-и-вниз</a>&#x003E;&#x003C;<a 
href="clmse67.html" >В-начало</a>&#x003E;&#x003C;<a 
href="number.html#clmse67.html" >Наверх</a>&#x003E;<br> &lt;<a href="../index.html">Главная</a>&gt; &lt;<a href="symbols.html">Символы</a>&gt;</div><a 
 id="tailclmse67.html"></a>
 
</body></html> 
